<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Categories</title></head>
<body>
<h1>Categories</h1>
<a th:href="@{/categories/new}">New Category</a>
<ul>
  <li th:each="category : ${categories}">
    <span th:text="${category.name}">Category Name</span>
    <a th:href="@{/categories/{id}/edit(id=${category.id})}">Edit</a>
    <form method="post" th:action="@{/categories/{id}/delete(id=${category.id})}" style="display:inline;">
      <button type="submit" name="btn_delete">Delete</button>
    </form>
    
    <!-- Show books in this category -->
    <ul th:if="${!category.books.isEmpty()}">
      <li th:each="book : ${category.books}" th:text="${book.title}">Book</li>
    </ul>
  </li>
</ul>
</body>
</html>